{"version":3,"file":"background.js","sources":["src/menu/dev_menu_template.js","src/menu/edit_menu_template.js","src/helpers/window.js","src/env.js","src/background.js"],"sourcesContent":["import { app, BrowserWindow } from 'electron';\n\nexport var devMenuTemplate = {\n    label: 'Development',\n    submenu: [{\n        label: 'Reload',\n        accelerator: 'CmdOrCtrl+R',\n        click: function () {\n            BrowserWindow.getFocusedWindow().webContents.reloadIgnoringCache();\n        }\n    },{\n        label: 'Toggle DevTools',\n        accelerator: 'Alt+CmdOrCtrl+I',\n        click: function () {\n            BrowserWindow.getFocusedWindow().toggleDevTools();\n        }\n    },{\n        label: 'Quit',\n        accelerator: 'CmdOrCtrl+Q',\n        click: function () {\n            app.quit();\n        }\n    }]\n};\n","export var editMenuTemplate = {\n    label: 'Edit',\n    submenu: [\n        { label: \"Undo\", accelerator: \"CmdOrCtrl+Z\", selector: \"undo:\" },\n        { label: \"Redo\", accelerator: \"Shift+CmdOrCtrl+Z\", selector: \"redo:\" },\n        { type: \"separator\" },\n        { label: \"Cut\", accelerator: \"CmdOrCtrl+X\", selector: \"cut:\" },\n        { label: \"Copy\", accelerator: \"CmdOrCtrl+C\", selector: \"copy:\" },\n        { label: \"Paste\", accelerator: \"CmdOrCtrl+V\", selector: \"paste:\" },\n        { label: \"Select All\", accelerator: \"CmdOrCtrl+A\", selector: \"selectAll:\" }\n    ]\n};\n","// This helper remembers the size and position of your windows (and restores\n// them in that place after app relaunch).\n// Can be used for more than one window, just construct many\n// instances of it and give each different name.\n\nimport { app, BrowserWindow, screen } from 'electron';\nimport jetpack from 'fs-jetpack';\n\nexport default function (name, options) {\n\n    var userDataDir = jetpack.cwd(app.getPath('userData'));\n    var stateStoreFile = 'window-state-' + name +'.json';\n    var defaultSize = {\n        width: options.width,\n        height: options.height\n    };\n    var state = {};\n    var win;\n\n    var restore = function () {\n        var restoredState = {};\n        try {\n            restoredState = userDataDir.read(stateStoreFile, 'json');\n        } catch (err) {\n            // For some reason json can't be read (might be corrupted).\n            // No worries, we have defaults.\n        }\n        return Object.assign({}, defaultSize, restoredState);\n    };\n\n    var getCurrentPosition = function () {\n        var position = win.getPosition();\n        var size = win.getSize();\n        return {\n            x: position[0],\n            y: position[1],\n            width: size[0],\n            height: size[1]\n        };\n    };\n\n    var windowWithinBounds = function (windowState, bounds) {\n        return windowState.x >= bounds.x &&\n            windowState.y >= bounds.y &&\n            windowState.x + windowState.width <= bounds.x + bounds.width &&\n            windowState.y + windowState.height <= bounds.y + bounds.height;\n    };\n\n    var resetToDefaults = function (windowState) {\n        var bounds = screen.getPrimaryDisplay().bounds;\n        return Object.assign({}, defaultSize, {\n            x: (bounds.width - defaultSize.width) / 2,\n            y: (bounds.height - defaultSize.height) / 2\n        });\n    };\n\n    var ensureVisibleOnSomeDisplay = function (windowState) {\n        var visible = screen.getAllDisplays().some(function (display) {\n            return windowWithinBounds(windowState, display.bounds);\n        });\n        if (!visible) {\n            // Window is partially or fully not visible now.\n            // Reset it to safe defaults.\n            return resetToDefaults(windowState);\n        }\n        return windowState;\n    };\n\n    var saveState = function () {\n        if (!win.isMinimized() && !win.isMaximized()) {\n            Object.assign(state, getCurrentPosition());\n        }\n        userDataDir.write(stateStoreFile, state, { atomic: true });\n    };\n\n    state = ensureVisibleOnSomeDisplay(restore());\n\n    win = new BrowserWindow(Object.assign({}, options, state));\n\n    win.on('close', saveState);\n\n    return win;\n}\n","// Simple wrapper exposing environment variables to rest of the code.\n\nimport jetpack from 'fs-jetpack';\n\n// The variables have been written to `env.json` by the build process.\nvar env = jetpack.cwd(__dirname).read('env.json', 'json');\n\nexport default env;\n","// This is main process of Electron, started as first thing when your\n// app starts. This script is running through entire life of your application.\n// It doesn't have any windows which you can see on screen, but we can open\n// window from here.\n\nimport path from 'path';\nimport url from 'url';\nimport fs from 'fs';\nimport { app, Menu } from 'electron';\nimport { devMenuTemplate } from './menu/dev_menu_template';\nimport { editMenuTemplate } from './menu/edit_menu_template';\nimport createWindow from './helpers/window';\nimport { ipcMain } from 'electron';\nconst electron = require('electron');\nconst os = require('os');\n\n// Special module holding environment variables which you declared\n// in config/env_xxx.json file.\nimport env from './env';\n\nconst aperture = require('aperture')();\nvar options = {\n  fps: 30,\n  cropArea: {\n    x: 0,\n    y: 0,\n    width: 500,\n    height: 500\n  },\n  showCursor: true,\n  highlightClicks: true,\n  audioSourceId: 'AppleHDAEngineInput:1B,0,1,0:1'\n};\n\nvar mainWindow, recordedPath;\nglobal.taskClicks = 0;\nglobal.taskEnters = 0;\nglobal.currentTask = 1;\nglobal.taskStart = 0;\nglobal.taskEnd = 0;\nglobal.tasks = [];\n\nvar setApplicationMenu = function () {\n  var menus = [editMenuTemplate];\n  if (env.name !== 'production') {\n    menus.push(devMenuTemplate);\n  }\n  Menu.setApplicationMenu(Menu.buildFromTemplate(menus));\n};\n\n// Save userData in separate folders for each environment.\n// Thanks to this you can use production and development versions of the app\n// on same machine like those are two separate apps.\nif (env.name !== 'production') {\n  var userDataPath = app.getPath('userData');\n  app.setPath('userData', userDataPath + ' (' + env.name + ')');\n}\n\napp.on('ready', function () {\n  setApplicationMenu();\n\n  var mainScreen = electron.screen.getPrimaryDisplay().size;\n  options.cropArea.width = mainScreen.width, options.cropArea.height = mainScreen.height;\n\n  var mainWindow = createWindow('main', {\n    width: 800,\n    height: 600,\n    webPreferences: {\n      nodeIntegration: true,\n      plugins: true,\n      preload: __dirname + '/preload.js',\n      allowDisplayingInsecureContent: true,\n      scrollBounce: false\n    }\n  });\n  mainWindow.maximize();\n\n  mainWindow.loadURL(\"http://timetable.brighton.ac.uk/timetabling/homePage.do\");\n\n  // if (env.name === 'development') {\n  //   mainWindow.openDevTools();\n  // }\n\n  ipcMain.on('clickEvent', () => {\n    global.taskClicks++;\n    // console.log(\"clicked\");\n  });\n  ipcMain.on('enterEvent', () => {\n    global.taskEnters++;\n    // console.log(\"enter pressed\");\n  });\n\n  ipcMain.on('startTaskEvent', () => {\n    console.log(`=====> TASK ${global.currentTask} STARTED. <=====`);\n    global.taskStart = new Date().getTime();\n    global.taskClicks = 0;\n    global.taskEnters = 0;\n  });\n  ipcMain.on('stopTaskEvent', () => {\n    global.taskEnd = new Date().getTime();\n    console.log(`=====> TASK ${global.currentTask} ENDED. <=====`);\n    global.tasks.push({\"task\": global.currentTask,\n                      \"clicks\": global.taskClicks,\n                      \"enters\": global.taskEnters,\n                      \"time\": (global.taskEnd - global.taskStart)/1000 });\n    global.currentTask++;\n  });\n\n\n  ipcMain.on('startRecordingEvent', () => {\n    console.log('##### RECORDING STARTED. #####');\n    aperture.startRecording(options).then(filePath => {\n      console.log(filePath);\n      recordedPath = filePath;\n    });\n  });\n  ipcMain.on('stopRecordingEvent', () => {\n    aperture.stopRecording();\n    if ( typeof recordedPath !== 'undefined' && recordedPath ) {\n      var dir = os.homedir() + '/Desktop/Recording-'+Math.random().toString(36).substr(2, 5)+'.mp4';\n      move(recordedPath.toString(), dir, function(e){console.log(e)});\n    }\n    console.log('##### RECORDING STOPPED. #####');\n  });\n\n\n});\n\napp.on('window-all-closed', function () {\n  app.quit();\n});\n\napp.on('before-quit', function () {\n  console.log(global.tasks);\n});\n\n\nfunction move(oldPath, newPath, callback) {\n\n  fs.rename(oldPath, newPath, function (err) {\n    if (err) {\n      if (err.code === 'EXDEV') {\n        copy();\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    callback(newPath);\n  });\n\n  function copy() {\n    var readStream = fs.createReadStream(oldPath);\n    var writeStream = fs.createWriteStream(newPath);\n\n    readStream.on('error', callback);\n    writeStream.on('error', callback);\n\n    readStream.on('close', function () {\n      fs.unlink(oldPath, callback);\n    });\n\n    readStream.pipe(writeStream);\n  }\n}\n"],"names":["BrowserWindow","app","screen","electron","Menu","ipcMain"],"mappings":";;;;;;;;;;AAEO,IAAI,eAAe,GAAG;IACzB,KAAK,EAAE,aAAa;IACpB,OAAO,EAAE,CAAC;QACN,KAAK,EAAE,QAAQ;QACf,WAAW,EAAE,aAAa;QAC1B,KAAK,EAAE,YAAY;YACfA,sBAAa,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,mBAAmB,EAAE,CAAC;SACtE;KACJ,CAAC;QACE,KAAK,EAAE,iBAAiB;QACxB,WAAW,EAAE,iBAAiB;QAC9B,KAAK,EAAE,YAAY;YACfA,sBAAa,CAAC,gBAAgB,EAAE,CAAC,cAAc,EAAE,CAAC;SACrD;KACJ,CAAC;QACE,KAAK,EAAE,MAAM;QACb,WAAW,EAAE,aAAa;QAC1B,KAAK,EAAE,YAAY;YACfC,YAAG,CAAC,IAAI,EAAE,CAAC;SACd;KACJ,CAAC;CACL,CAAC;;ACvBK,IAAI,gBAAgB,GAAG;IAC1B,KAAK,EAAE,MAAM;IACb,OAAO,EAAE;QACL,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE;QAChE,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,mBAAmB,EAAE,QAAQ,EAAE,OAAO,EAAE;QACtE,EAAE,IAAI,EAAE,WAAW,EAAE;QACrB,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE;QAC9D,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAE;QAChE,EAAE,KAAK,EAAE,OAAO,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE;QAClE,EAAE,KAAK,EAAE,YAAY,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE;KAC9E;CACJ,CAAC;;ACXF;;;;;AAKA,AACA,AAEA,mBAAe,UAAU,IAAI,EAAE,OAAO,EAAE;;IAEpC,IAAI,WAAW,GAAG,OAAO,CAAC,GAAG,CAACA,YAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;IACvD,IAAI,cAAc,GAAG,eAAe,GAAG,IAAI,EAAE,OAAO,CAAC;IACrD,IAAI,WAAW,GAAG;QACd,KAAK,EAAE,OAAO,CAAC,KAAK;QACpB,MAAM,EAAE,OAAO,CAAC,MAAM;KACzB,CAAC;IACF,IAAI,KAAK,GAAG,EAAE,CAAC;IACf,IAAI,GAAG,CAAC;;IAER,IAAI,OAAO,GAAG,YAAY;QACtB,IAAI,aAAa,GAAG,EAAE,CAAC;QACvB,IAAI;YACA,aAAa,GAAG,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;SAC5D,CAAC,OAAO,GAAG,EAAE;;;SAGb;QACD,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,WAAW,EAAE,aAAa,CAAC,CAAC;KACxD,CAAC;;IAEF,IAAI,kBAAkB,GAAG,YAAY;QACjC,IAAI,QAAQ,GAAG,GAAG,CAAC,WAAW,EAAE,CAAC;QACjC,IAAI,IAAI,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC;QACzB,OAAO;YACH,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;YACd,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;YACd,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC;YACd,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;SAClB,CAAC;KACL,CAAC;;IAEF,IAAI,kBAAkB,GAAG,UAAU,WAAW,EAAE,MAAM,EAAE;QACpD,OAAO,WAAW,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;YAC5B,WAAW,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC;YACzB,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,KAAK,IAAI,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK;YAC5D,WAAW,CAAC,CAAC,GAAG,WAAW,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC;KACtE,CAAC;;IAEF,IAAI,eAAe,GAAG,UAAU,WAAW,EAAE;QACzC,IAAI,MAAM,GAAGC,eAAM,CAAC,iBAAiB,EAAE,CAAC,MAAM,CAAC;QAC/C,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,WAAW,EAAE;YAClC,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;YACzC,CAAC,EAAE,CAAC,MAAM,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC;SAC9C,CAAC,CAAC;KACN,CAAC;;IAEF,IAAI,0BAA0B,GAAG,UAAU,WAAW,EAAE;QACpD,IAAI,OAAO,GAAGA,eAAM,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,UAAU,OAAO,EAAE;YAC1D,OAAO,kBAAkB,CAAC,WAAW,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;SAC1D,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,EAAE;;;YAGV,OAAO,eAAe,CAAC,WAAW,CAAC,CAAC;SACvC;QACD,OAAO,WAAW,CAAC;KACtB,CAAC;;IAEF,IAAI,SAAS,GAAG,YAAY;QACxB,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,EAAE;YAC1C,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,kBAAkB,EAAE,CAAC,CAAC;SAC9C;QACD,WAAW,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;KAC9D,CAAC;;IAEF,KAAK,GAAG,0BAA0B,CAAC,OAAO,EAAE,CAAC,CAAC;;IAE9C,GAAG,GAAG,IAAIF,sBAAa,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;;IAE3D,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;;IAE3B,OAAO,GAAG,CAAC;CACd,CAAA;;AClFD;;AAEA,AAEA;AACA,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,AAE1D,AAAmB;;ACPnB;;;;;AAKA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,MAAMG,UAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACrC,MAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;;;;AAIzB,AAEA,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC;AACvC,IAAI,OAAO,GAAG;EACZ,GAAG,EAAE,EAAE;EACP,QAAQ,EAAE;IACR,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,KAAK,EAAE,GAAG;IACV,MAAM,EAAE,GAAG;GACZ;EACD,UAAU,EAAE,IAAI;EAChB,eAAe,EAAE,IAAI;EACrB,aAAa,EAAE,gCAAgC;CAChD,CAAC;;AAEF,IAAgB,YAAY,CAAC;AAC7B,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;AACtB,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;AACtB,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC;AACvB,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;AACrB,MAAM,CAAC,OAAO,GAAG,CAAC,CAAC;AACnB,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;;AAElB,IAAI,kBAAkB,GAAG,YAAY;EACnC,IAAI,KAAK,GAAG,CAAC,gBAAgB,CAAC,CAAC;EAC/B,IAAI,GAAG,CAAC,IAAI,KAAK,YAAY,EAAE;IAC7B,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;GAC7B;EACDC,aAAI,CAAC,kBAAkB,CAACA,aAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC;CACxD,CAAC;;;;;AAKF,IAAI,GAAG,CAAC,IAAI,KAAK,YAAY,EAAE;EAC7B,IAAI,YAAY,GAAGH,YAAG,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;EAC3CA,YAAG,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;CAC/D;;AAEDA,YAAG,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;EAC1B,kBAAkB,EAAE,CAAC;;EAErB,IAAI,UAAU,GAAGE,UAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC;EAC1D,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;;EAEvF,IAAI,UAAU,GAAG,YAAY,CAAC,MAAM,EAAE;IACpC,KAAK,EAAE,GAAG;IACV,MAAM,EAAE,GAAG;IACX,cAAc,EAAE;MACd,eAAe,EAAE,IAAI;MACrB,OAAO,EAAE,IAAI;MACb,OAAO,EAAE,SAAS,GAAG,aAAa;MAClC,8BAA8B,EAAE,IAAI;MACpC,YAAY,EAAE,KAAK;KACpB;GACF,CAAC,CAAC;EACH,UAAU,CAAC,QAAQ,EAAE,CAAC;;EAEtB,UAAU,CAAC,OAAO,CAAC,yDAAyD,CAAC,CAAC;;;;;;EAM9EE,gBAAO,CAAC,EAAE,CAAC,YAAY,EAAE,MAAM;IAC7B,MAAM,CAAC,UAAU,EAAE,CAAC;;GAErB,CAAC,CAAC;EACHA,gBAAO,CAAC,EAAE,CAAC,YAAY,EAAE,MAAM;IAC7B,MAAM,CAAC,UAAU,EAAE,CAAC;;GAErB,CAAC,CAAC;;EAEHA,gBAAO,CAAC,EAAE,CAAC,gBAAgB,EAAE,MAAM;IACjC,OAAO,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC;IACjE,MAAM,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;IACxC,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;IACtB,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;GACvB,CAAC,CAAC;EACHA,gBAAO,CAAC,EAAE,CAAC,eAAe,EAAE,MAAM;IAChC,MAAM,CAAC,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;IACtC,OAAO,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,CAAC;IAC/D,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,WAAW;sBAC3B,QAAQ,EAAE,MAAM,CAAC,UAAU;sBAC3B,QAAQ,EAAE,MAAM,CAAC,UAAU;sBAC3B,MAAM,EAAE,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;IACtE,MAAM,CAAC,WAAW,EAAE,CAAC;GACtB,CAAC,CAAC;;;EAGHA,gBAAO,CAAC,EAAE,CAAC,qBAAqB,EAAE,MAAM;IACtC,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;IAC9C,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI;MAChD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;MACtB,YAAY,GAAG,QAAQ,CAAC;KACzB,CAAC,CAAC;GACJ,CAAC,CAAC;EACHA,gBAAO,CAAC,EAAE,CAAC,oBAAoB,EAAE,MAAM;IACrC,QAAQ,CAAC,aAAa,EAAE,CAAC;IACzB,KAAK,OAAO,YAAY,KAAK,WAAW,IAAI,YAAY,GAAG;MACzD,IAAI,GAAG,GAAG,EAAE,CAAC,OAAO,EAAE,GAAG,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;MAC9F,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA,CAAC,CAAC,CAAC;KACjE;IACD,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;GAC/C,CAAC,CAAC;;;CAGJ,CAAC,CAAC;;AAEHJ,YAAG,CAAC,EAAE,CAAC,mBAAmB,EAAE,YAAY;EACtCA,YAAG,CAAC,IAAI,EAAE,CAAC;CACZ,CAAC,CAAC;;AAEHA,YAAG,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY;EAChC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;CAC3B,CAAC,CAAC;;;AAGH,SAAS,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE;;EAExC,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,GAAG,EAAE;IACzC,IAAI,GAAG,EAAE;MACP,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,EAAE;QACxB,IAAI,EAAE,CAAC;OACR,MAAM;QACL,QAAQ,CAAC,GAAG,CAAC,CAAC;OACf;MACD,OAAO;KACR;IACD,QAAQ,CAAC,OAAO,CAAC,CAAC;GACnB,CAAC,CAAC;;EAEH,SAAS,IAAI,GAAG;IACd,IAAI,UAAU,GAAG,EAAE,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;IAC9C,IAAI,WAAW,GAAG,EAAE,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;;IAEhD,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IACjC,WAAW,CAAC,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;;IAElC,UAAU,CAAC,EAAE,CAAC,OAAO,EAAE,YAAY;MACjC,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;KAC9B,CAAC,CAAC;;IAEH,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;GAC9B;CACF"}